{
  "version": 2,

  "build": {
    "env": {
      "NODE_ENV": "developement",
      "VITE_API_PORT": "3000",
      "VITE_ENDPOINT_SEARCH": "/api/search",
      "VITE_ENDPOINT_DETAILS": "/api/details"
    }
  },

  "installCommand": "npm install",
  "buildCommand": "npx turbo run build",
  "outputDirectory": "packages/client/build",

  "regions": ["arn1", "lhr1", "fra1"],
  "functionFailoverRegions": ["arn1", "lhr1", "fra1"],

  "functions": {
    "api/*.js": {
      "memory": 1024,
      "maxDuration": 10
    }
  },

  "routes": [
    {
      "src": "/api/search",
      "dest": "packages/vercel/build/search.js"
    },

    {
      "src": "/api/hello",
      "dest": "packages/vercel/build/hello.js"
    },

    {
      "src": "/(.*)",
      "dest": "packages/client/build/$1"
    }
  ]
}
